from decimal import Decimal

from app_users.services.demo_login_service.factories.categories import ExpenseCategoryName
from app_users.services.demo_login_service.factories.entities import DepositName
from app_users.services.demo_login_service.factories.periods import PeriodName
from categories.models import TransferCategory
from entities.models import Deposit
from periods.models import Period
from predictions.models import ExpensePrediction


def create_predictions(
    daily_wallet_periods: dict[PeriodName, Period],
    deposits: dict[DepositName, Deposit],
    expense_categories: dict[ExpenseCategoryName, TransferCategory],
):
    """
    Service to create Predictions for demo User.
    """
    return ExpensePrediction.objects.bulk_create(
        [
            # PERSONAL Deposit 2026_01 Predictions
            ExpensePrediction(
                period=daily_wallet_periods[PeriodName._2026_01],
                deposit=deposits[DepositName.PERSONAL],
                category=None,
                initial_plan=Decimal("0.00"),
                current_plan=Decimal("0.00"),
            ),
            ExpensePrediction(
                period=daily_wallet_periods[PeriodName._2026_01],
                deposit=deposits[DepositName.PERSONAL],
                category=expense_categories[ExpenseCategoryName.FOOD],
                initial_plan=Decimal("500.00"),
                current_plan=Decimal("500.00"),
            ),
            ExpensePrediction(
                period=daily_wallet_periods[PeriodName._2026_01],
                deposit=deposits[DepositName.PERSONAL],
                category=expense_categories[ExpenseCategoryName.TO_COMMON_ACCOUNT],
                initial_plan=Decimal("5000.00"),
                current_plan=Decimal("5000.00"),
            ),
            ExpensePrediction(
                period=daily_wallet_periods[PeriodName._2026_01],
                deposit=deposits[DepositName.PERSONAL],
                category=expense_categories[ExpenseCategoryName.PERSONAL_UNEXPECTED],
                initial_plan=Decimal("700.00"),
                current_plan=Decimal("700.00"),
            ),
            # PERSONAL Deposit 2026_02 Predictions
            ExpensePrediction(
                period=daily_wallet_periods[PeriodName._2026_02],
                deposit=deposits[DepositName.PERSONAL],
                category=None,
                initial_plan=Decimal("0.00"),
                current_plan=Decimal("0.00"),
            ),
            ExpensePrediction(
                period=daily_wallet_periods[PeriodName._2026_02],
                deposit=deposits[DepositName.PERSONAL],
                category=expense_categories[ExpenseCategoryName.FOOD],
                initial_plan=Decimal("500.00"),
                current_plan=Decimal("600.00"),
            ),
            ExpensePrediction(
                period=daily_wallet_periods[PeriodName._2026_02],
                deposit=deposits[DepositName.PERSONAL],
                category=expense_categories[ExpenseCategoryName.TO_COMMON_ACCOUNT],
                initial_plan=Decimal("5000.00"),
                current_plan=Decimal("5000.00"),
            ),
            ExpensePrediction(
                period=daily_wallet_periods[PeriodName._2026_02],
                deposit=deposits[DepositName.PERSONAL],
                category=expense_categories[ExpenseCategoryName.PERSONAL_UNEXPECTED],
                initial_plan=Decimal("700.00"),
                current_plan=Decimal("600.00"),
            ),
            # PERSONAL Deposit 2026_03 Predictions
            ExpensePrediction(
                period=daily_wallet_periods[PeriodName._2026_03],
                deposit=deposits[DepositName.PERSONAL],
                category=None,
                initial_plan=Decimal("0.00"),
                current_plan=Decimal("0.00"),
            ),
            ExpensePrediction(
                period=daily_wallet_periods[PeriodName._2026_03],
                deposit=deposits[DepositName.PERSONAL],
                category=expense_categories[ExpenseCategoryName.FOOD],
                initial_plan=Decimal("500.00"),
                current_plan=Decimal("500.00"),
            ),
            ExpensePrediction(
                period=daily_wallet_periods[PeriodName._2026_03],
                deposit=deposits[DepositName.PERSONAL],
                category=expense_categories[ExpenseCategoryName.TO_COMMON_ACCOUNT],
                initial_plan=Decimal("5500.00"),
                current_plan=Decimal("5500.00"),
            ),
            ExpensePrediction(
                period=daily_wallet_periods[PeriodName._2026_03],
                deposit=deposits[DepositName.PERSONAL],
                category=expense_categories[ExpenseCategoryName.PERSONAL_UNEXPECTED],
                initial_plan=Decimal("700.00"),
                current_plan=Decimal("700.00"),
            ),
            # COMMON Deposit 2026_01 Predictions
            ExpensePrediction(
                period=daily_wallet_periods[PeriodName._2026_01],
                deposit=deposits[DepositName.COMMON],
                category=None,
                initial_plan=Decimal("0.00"),
                current_plan=Decimal("0.00"),
            ),
            ExpensePrediction(
                period=daily_wallet_periods[PeriodName._2026_01],
                deposit=deposits[DepositName.COMMON],
                category=expense_categories[ExpenseCategoryName.BILLS],
                initial_plan=Decimal("2000.00"),
                current_plan=Decimal("2000.00"),
            ),
            ExpensePrediction(
                period=daily_wallet_periods[PeriodName._2026_01],
                deposit=deposits[DepositName.COMMON],
                category=expense_categories[ExpenseCategoryName.TREASURY_BONDS_PURCHASE],
                initial_plan=Decimal("1000.00"),
                current_plan=Decimal("1000.00"),
            ),
            ExpensePrediction(
                period=daily_wallet_periods[PeriodName._2026_01],
                deposit=deposits[DepositName.COMMON],
                category=expense_categories[ExpenseCategoryName.ETF_PURCHASE],
                initial_plan=Decimal("1000.00"),
                current_plan=Decimal("1000.00"),
            ),
            ExpensePrediction(
                period=daily_wallet_periods[PeriodName._2026_01],
                deposit=deposits[DepositName.COMMON],
                category=expense_categories[ExpenseCategoryName.GOLD_PURCHASE],
                initial_plan=Decimal("500.00"),
                current_plan=Decimal("500.00"),
            ),
            ExpensePrediction(
                period=daily_wallet_periods[PeriodName._2026_01],
                deposit=deposits[DepositName.COMMON],
                category=expense_categories[ExpenseCategoryName.COMMON_UNEXPECTED],
                initial_plan=Decimal("500.00"),
                current_plan=Decimal("500.00"),
            ),
            # COMMON Deposit 2026_02 Predictions
            ExpensePrediction(
                period=daily_wallet_periods[PeriodName._2026_02],
                deposit=deposits[DepositName.COMMON],
                category=None,
                initial_plan=Decimal("0.00"),
                current_plan=Decimal("0.00"),
            ),
            ExpensePrediction(
                period=daily_wallet_periods[PeriodName._2026_02],
                deposit=deposits[DepositName.COMMON],
                category=expense_categories[ExpenseCategoryName.BILLS],
                initial_plan=Decimal("2000.00"),
                current_plan=Decimal("2000.00"),
            ),
            ExpensePrediction(
                period=daily_wallet_periods[PeriodName._2026_02],
                deposit=deposits[DepositName.COMMON],
                category=expense_categories[ExpenseCategoryName.TREASURY_BONDS_PURCHASE],
                initial_plan=Decimal("1000.00"),
                current_plan=Decimal("1000.00"),
            ),
            ExpensePrediction(
                period=daily_wallet_periods[PeriodName._2026_02],
                deposit=deposits[DepositName.COMMON],
                category=expense_categories[ExpenseCategoryName.ETF_PURCHASE],
                initial_plan=Decimal("1000.00"),
                current_plan=Decimal("1000.00"),
            ),
            ExpensePrediction(
                period=daily_wallet_periods[PeriodName._2026_02],
                deposit=deposits[DepositName.COMMON],
                category=expense_categories[ExpenseCategoryName.GOLD_PURCHASE],
                initial_plan=Decimal("500.00"),
                current_plan=Decimal("500.00"),
            ),
            ExpensePrediction(
                period=daily_wallet_periods[PeriodName._2026_02],
                deposit=deposits[DepositName.COMMON],
                category=expense_categories[ExpenseCategoryName.COMMON_UNEXPECTED],
                initial_plan=Decimal("500.00"),
                current_plan=Decimal("500.00"),
            ),
            # COMMON Deposit 2026_03 Predictions
            ExpensePrediction(
                period=daily_wallet_periods[PeriodName._2026_03],
                deposit=deposits[DepositName.COMMON],
                category=None,
                initial_plan=Decimal("0.00"),
                current_plan=Decimal("0.00"),
            ),
            ExpensePrediction(
                period=daily_wallet_periods[PeriodName._2026_03],
                deposit=deposits[DepositName.COMMON],
                category=expense_categories[ExpenseCategoryName.BILLS],
                initial_plan=Decimal("2000.00"),
                current_plan=Decimal("2000.00"),
            ),
            ExpensePrediction(
                period=daily_wallet_periods[PeriodName._2026_03],
                deposit=deposits[DepositName.COMMON],
                category=expense_categories[ExpenseCategoryName.TREASURY_BONDS_PURCHASE],
                initial_plan=Decimal("1250.00"),
                current_plan=Decimal("1250.00"),
            ),
            ExpensePrediction(
                period=daily_wallet_periods[PeriodName._2026_03],
                deposit=deposits[DepositName.COMMON],
                category=expense_categories[ExpenseCategoryName.ETF_PURCHASE],
                initial_plan=Decimal("1250.00"),
                current_plan=Decimal("1250.00"),
            ),
            ExpensePrediction(
                period=daily_wallet_periods[PeriodName._2026_03],
                deposit=deposits[DepositName.COMMON],
                category=expense_categories[ExpenseCategoryName.GOLD_PURCHASE],
                initial_plan=Decimal("500.00"),
                current_plan=Decimal("500.00"),
            ),
            ExpensePrediction(
                period=daily_wallet_periods[PeriodName._2026_03],
                deposit=deposits[DepositName.COMMON],
                category=expense_categories[ExpenseCategoryName.COMMON_UNEXPECTED],
                initial_plan=Decimal("500.00"),
                current_plan=Decimal("500.00"),
            ),
        ]
    )
